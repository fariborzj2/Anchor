<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AnchorReact JS Demo</title>
  <!-- React and ReactDOM -->
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <!-- PropTypes -->
  <script src="https://unpkg.com/prop-types@15.7.2/prop-types.js"></script>
  <!-- Babel for JSX transformation (optional if not using JSX in script tags) -->
  <script src="https://unpkg.com/@babel/standalone@7.14.7/babel.min.js"></script>

  <!-- Anchor Core Logic -->
  <script src="./anchor-core.js"></script>
  <!-- React Component -->
  <script src="./AnchorReact.js"></script>

  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
      color: #333;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      display: flex;
      gap: 20px;
    }

    .content {
      flex: 3;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    #anchor-nav-react { /* Specific ID for React demo nav container */
      flex: 1;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 20px;
      max-height: 90vh;
      overflow-y: auto;
    }

    /* Styles for the list generated by AnchorReact.js */
    #anchor-list-react ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    #anchor-list-react li {
      margin: 10px 0;
    }

    #anchor-list-react a {
      text-decoration: none;
      color: #333;
      font-size: 14px;
      transition: color 0.3s ease;
    }

    #anchor-list-react a:hover {
      color: #007bff;
    }

    #anchor-list-react li.active a { /* Tied to activeClass prop */
      color: #007bff;
      font-weight: bold;
    }

    h1, h2, h3, h4, h5, h6 {
      margin-top: 30px;
    }
    .highlight { /* Style for the headClass prop */
      color: #007bff;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Navigation Menu Container -->
    <div id="anchor-nav-react">
      <!-- React component will be rendered here -->
    </div>

    <!-- Page Content -->
    <div class="content">
      <h1>Section 1</h1>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
      <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

      <h2>Subsection 1.1</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>

      <h3>Subsection 1.1.1</h3>
      <p>Phasellus egestas tellus rutrum tellus pellentesque eu. Tincidunt dui ut ornare lectus sit amet est placerat in.</p>
      <p>Pulvinar elementum integer enim neque volutpat ac tincidunt vitae.</p>

      <h1>Section 2</h1>
      <p>Massa tincidunt dui ut ornare lectus sit. Augue neque gravida in fermentum et sollicitudin ac orci phasellus.</p>
      <p>Elementum curabitur vitae nunc sed velit dignissim sodales ut eu. Nibh praesent tristique magna sit amet purus.</p>

      <h2>Subsection 2.1</h2>
      <p>Adipiscing elit duis tristique sollicitudin nibh sit amet commodo nulla. Lectus proin nibh nisl condimentum id venenatis.</p>
      <p>Quis lectus nulla at volutpat diam ut venenatis tellus in. Mauris pharetra et ultrices neque ornare aenean euismod.</p>

      <h3>Subsection 2.1.1</h3>
      <p>Eu sem integer vitae justo eget magna fermentum iaculis eu. Faucibus purus in massa tempor nec feugiat nisl.</p>
      <p>Imperdiet sed euismod nisi porta lorem mollis aliquam ut porttitor. Diam phasellus vestibulum lorem sed risus ultricies.</p>

      <h1>Section 3</h1>
      <p>Consequat mauris nunc congue nisi vitae suscipit tellus mauris a. Semper auctor neque vitae tempus quam.</p>
      <p>Mollis nunc sed id semper risus in hendrerit gravida. Sit amet consectetur adipiscing elit pellentesque.</p>
    </div>
  </div>

  <script type="text/babel">
    // Ensure AnchorReact is available (loaded from AnchorReact.js)
    // Ensure PropTypes is available for AnchorReact.propTypes
    if (typeof AnchorReact === 'undefined') {
      console.error('AnchorReact component not found. Check script loading.');
    }
    if (typeof PropTypes === 'undefined') {
      console.error('PropTypes not found. Check script loading.');
    }

    const reactContainer = document.getElementById('anchor-nav-react');

    const anchorProps = {
      contentSelector: '.content',
      activeClass: 'active', // This class is used in CSS for li.active a
      headClass: 'highlight', // This class is applied to headings
      listHead: ['h1', 'h2', 'h3'],
      defaultFontSize: { h1: '18px', h2: '16px', h3: '14px' },
      defaultFontWeight: { h1: 'bold', h2: 'normal', h3: 'normal' },
      offsetTop: 120
    };

    ReactDOM.render(
      React.createElement(AnchorReact, anchorProps),
      reactContainer
    );
  </script>
</body>
</html>
